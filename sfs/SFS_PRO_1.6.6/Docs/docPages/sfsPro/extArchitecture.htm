<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>SmartFoxServer Documentation</title>
<script language="javascript" src="../../lib.js"></script>
<link href="../../main.css" rel="stylesheet" type="text/css">
</head>

<body class="bodyStyle">
 <p class="title">6.2 Introduction: Extensions architecture </p>
 <p>Before we start seeing how extensions plug into the <strong>SmartFoxServer PRO</strong>   architecture let's take a look at this diagram:</p>
 <p align="center"><img src="images/extDiagram.gif" width="490" height="503"></p>
 <p>Even if it may look complicated at a first glance, the way extensions are
   connected to the server is very simple.<br>
   <br>
   <strong>SmartFoxServer</strong> can
   run many applications at once using the concept of &quot;Zones&quot; which are represented by the green rectangles. Each <strong>Zone</strong> can run its custom code in complete isolation, it can contain any number of different <strong>Rooms</strong> (the gray boxes), where users can interact with each others, chat, play games, exchange data etc...<br>
 Each Zone also provides the abiltiy to access a database source in very convenient way through its &quot;Database Manager&quot;, which can be configured in the main server config file and it becomes available at runtime, providing direct access to the database.</p>
<p><span class="subTitle">&raquo; Extension Level </span><br>
   Extensions can be plugged at two different levels: <strong>Zone
     Level</strong> or   <strong>Room Level. </strong>The only big difference between the two
   types is the amount of control they can have over the server objects. In
   other words an extension plugged at <strong>Zone Level</strong> will be
   able to see all the rooms inside that Zone and all the clients connected
   in each room, while extensions plugged at <strong>Room Level</strong> will only be able to
 control the users and the other objects available in that specific Room.<br>
   <br>
   A typical use-case for a <strong>Room Level</strong> extension is a multi-player game system running many different types of games. Supposing we have 20+ different games like card games, table games, real time game etc... we could write the server side logic of each title in a different Extension and plug the right game extension to each new game room created.</p>
<p>A Zone Level use case would be the creation of a Lobby with a registration system, an avatar customization section, user profile etc...<br>
  The extension could also be responsible for handling game challenges, chat rooms, one-on-one private chats etc...</p>
<p><br>
    <span class="subTitle">&raquo; Performance considerations </span></p>
<p>When planning the development of a server side Extension it is also important
   to consider the amount of performance needed by<strong> Zone Level Extensions</strong> and <strong>Room
   Level Extensions</strong>.
   The latter are instantiated each time a game room is created and attached
   to it.<br>
   If you're planning to develop complex server side logic or if you are going
   to handle many thousands games simultaneously you should always consider the
   pros and cons of using one approach or the other. <br>
   <br>
   If your server is running 2000 games simultaneously and you're using extensions
   at <strong>Room Level</strong>, you're going to have 2000 instances of your
   extension running concurrently in the server, requiring more CPU time and
   memory than a <strong>Zone Level</strong> approach, where only one extensions
   is responsible of handling all the game rooms. <br>
   <br>
   More in general when your server side logic becomes complex and you can foresee
   a high number of concurrent clients, it is reccomendable to choose <strong>Zone
   Level Extensions</strong> in order to save server resources.<br>
   <br>
   On the other hand simpler extensions (for example a turn-based game) can be
   conveniently developed at <strong>Room
   Level</strong>.</p>
 <hr width="99%" size="1" noshade>
 <table width="99%"  border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td width="33%"><a href="whatIsAnExtension.htm" class="navLinks"></a> </td>
    <td width="34%" align="center"><a href="../../index.htm" target="_top" class="navLinks">doc index </a></td>
    <td width="33%" align="right"><a href="databaseConnection.htm" class="navLinks"></a></td>
  </tr>
</table>

</body>
</html>
